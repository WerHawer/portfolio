{"version":3,"sources":["pixabayApi.js","Header.js","SearchForm.js","ImageGalery.js","LoadBtn.js","BigPhotoModal.js","NoResults.js","App.js","index.js"],"names":["pixabayApi","BASIC_URL","otherOptions","key","page","getPhoto","query","finalURL","axios","get","request","pageIncrement","data","hits","alert","this","pageResset","Header","children","className","SearchForm","value","onChange","onSubmit","type","autoComplete","autoFocus","placeholder","ImageGalery","onClick","photos","map","photo","id","src","webformatURL","alt","name","LoadBtn","BigPhotoModal","bigUrl","onKeyPress","NoResults","App","state","fullSize","isLoading","handleNewQueryFetch","a","setState","photosApi","console","log","handleFetch","handleChangeQuery","e","target","onSubmitForm","preventDefault","onClickBtn","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onClickPhoto","targetPhoto","find","largeImageURL","onClickOverlay","nodeName","onPressEsc","addEventListener","hideModal","code","removeEventListener","color","height","width","length","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.382d1d92.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst pixabayApi = {\r\n  BASIC_URL: \"https://pixabay.com/api/\",\r\n\r\n  otherOptions: \"&image_type=photo&orientation=horizontal&per_page=12\",\r\n\r\n  key: \"1992005-0c423af9a07f13d941d831108\",\r\n\r\n  page: 1,\r\n\r\n  async getPhoto(query) {\r\n    try {\r\n      const finalURL = `${this.BASIC_URL}?q=${query}&key=${this.key}${this.otherOptions}&page=${this.page}`;\r\n      const request = await axios.get(finalURL);\r\n\r\n      this.pageIncrement();\r\n      return request.data.hits;\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  },\r\n\r\n  pageIncrement() {\r\n    this.page += 1;\r\n  },\r\n\r\n  pageResset() {\r\n    this.page = 1;\r\n  }\r\n};\r\n\r\nexport default pixabayApi;\r\n","import React from \"react\";\r\n\r\nconst Header = ({ children }) => (\r\n  <header className=\"Searchbar\">{children}</header>\r\n);\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst SearchForm = ({ value, onChange, onSubmit }) => (\r\n  <form className=\"SearchForm\" onSubmit={onSubmit}>\r\n    <button type=\"submit\" className=\"SearchForm-button\">\r\n      <span className=\"SearchForm-button-label\">Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className=\"SearchForm-input\"\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  </form>\r\n);\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nconst ImageGalery = ({ onClick, photos }) => (\r\n  <ul className=\"ImageGallery\">\r\n    {photos.map(photo => (\r\n      <li className=\"ImageGalleryItem\" key={photo.id} onClick={onClick}>\r\n        <img\r\n          src={photo.webformatURL}\r\n          alt={photo.name}\r\n          id={photo.id}\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGalery;\r\n","import React from \"react\";\r\n\r\nconst LoadBtn = ({ onClick }) => (\r\n  <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default LoadBtn;\r\n","import React from \"react\";\r\n\r\nconst BigPhotoModal = ({ bigUrl, onClick, onKeyPress }) => (\r\n  <div className=\"Overlay\" onClick={onClick}>\r\n    <div className=\"Modal\">\r\n      <img src={bigUrl} alt=\"\" onKeyPress={onKeyPress} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default BigPhotoModal;\r\n","import React, { Fragment } from \"react\";\r\n\r\nconst NoResults = () => (\r\n  <Fragment>\r\n    <span className=\"noResult\">\r\n      Sorry, we haven`t any photo on your request :(\r\n    </span>\r\n  </Fragment>\r\n);\r\n\r\nexport default NoResults;\r\n","import React, { Component } from \"react\";\nimport pixabayApi from \"./pixabayApi\";\nimport Header from \"./Header\";\nimport SearchForm from \"./SearchForm\";\nimport ImageGalery from \"./ImageGalery\";\nimport Loader from \"react-loader-spinner\";\nimport LoadBtn from \"./LoadBtn\";\nimport BigPhotoModal from \"./BigPhotoModal\";\nimport NoResults from \"./NoResults\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    photos: [],\n    fullSize: false,\n    isLoading: false,\n    bigUrl: \"\"\n  };\n\n  componentDidMount() {\n    this.handleFetch(this.state.query);\n  }\n\n  handleNewQueryFetch = async () => {\n    this.setState({ isLoading: true });\n    try {\n      const photosApi = await pixabayApi.getPhoto(this.state.query);\n      this.setState({ photos: photosApi });\n    } catch (error) {\n      console.log(error);\n    }\n\n    this.setState({ isLoading: false });\n  };\n\n  handleFetch = async () => {\n    this.setState({ isLoading: true });\n    try {\n      const photosApi = await pixabayApi.getPhoto(this.state.query);\n      this.setState(({ photos }) => ({ photos: [...photos, ...photosApi] }));\n    } catch (error) {\n      console.log(error);\n    }\n\n    this.setState({ isLoading: false });\n  };\n\n  handleChangeQuery = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  onSubmitForm = e => {\n    e.preventDefault();\n    pixabayApi.pageResset();\n    this.handleNewQueryFetch();\n  };\n\n  onClickBtn = async () => {\n    await this.handleFetch();\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\"\n    });\n  };\n\n  onClickPhoto = e => {\n    const { photos } = this.state;\n\n    const targetPhoto = photos.find(({ id }) => id === +e.target.id);\n    this.setState({ fullSize: true, bigUrl: targetPhoto.largeImageURL });\n  };\n\n  onClickOverlay = e => {\n    if (e.target.nodeName === \"IMG\") return;\n\n    this.setState({ fullSize: false });\n  };\n\n  onPressEsc = e => {\n    const hideModal = e => {\n      if (e.code === \"Escape\") {\n        this.setState({ fullSize: false });\n        window.removeEventListener(\"keydown\", hideModal);\n      }\n    };\n    window.addEventListener(\"keydown\", hideModal);\n  };\n\n  render() {\n    const { query, photos, fullSize, bigUrl, isLoading } = this.state;\n\n    return (\n      <div>\n        <Header>\n          <SearchForm\n            onSubmit={this.onSubmitForm}\n            onChange={this.handleChangeQuery}\n            value={query}\n          />\n        </Header>\n\n        <ImageGalery onClick={this.onClickPhoto} photos={photos} />\n\n        {isLoading && (\n          <div className=\"Loader\">\n            <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n          </div>\n        )}\n\n        {photos.length > 0 && !isLoading ? (\n          <LoadBtn onClick={this.onClickBtn} />\n        ) : null}\n\n        {fullSize && (\n          <BigPhotoModal\n            onClick={this.onClickOverlay}\n            bigUrl={bigUrl}\n            onKeyPress={this.onPressEsc()}\n          />\n        )}\n\n        {!photos.length && !isLoading ? <NoResults /> : null}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"../src/styles.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}